<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="initial-scale=1.0">
        <title>在线开字母</title>
        <link rel="stylesheet" href="source/css/style.css">
        <link rel="stylesheet" href="source/css/svg.css">
    </head>

    <body>
        <div id="loading-shader">
            <div>
                <div class="loading-icon big" itemid="2"></div>
                <span class="strong">正在加载中</span>
            </div>
        </div>
        <div>
            <div id="popup-shader">
                <div id="popup-border">
                    <div id="popup-content">
                        <div data-type="stats-show">
                            <header>信息</header>
                            <div id="switch-stat-page-controller">
                                <span>我的信息</span>
                                <span>游戏统计</span>
                                <!-- <span>?</span> -->
                            </div>
                            <div id="stats-container">
                                <table>
                                    <tr>
                                        <td>我的用户ID</td>
                                        <td class="user-id-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>我的IP</td>
                                        <td id="user-ip-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>强制断开连接</td>
                                        <td><button id="force-quit-game-label">执行</button></td>
                                    </tr>
                                </table>
                                <table>
                                    <tr>
                                        <td>目前在线人数</td>
                                        <td class="current-online-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>目前游玩人数</td>
                                        <td id="current-playing-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>历史最高在线人数</td>
                                        <td id="max-online-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>历史总计在线人数</td>
                                        <td id="total-online-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>历史创建房间数</td>
                                        <td id="total-rooms-label">-</td>
                                    </tr>
                                    <tr>
                                        <td>我的游玩时间</td>
                                        <td id="total-played-time-label"></td>
                                    </tr>
                                    <tr>
                                        <td>平均游玩时间</td>
                                        <td id="average-played-time-label"></td>
                                    </tr>
                                    <tr>
                                        <td>服务器在线时间</td>
                                        <td id="server-on-time-label"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div data-type="game-rules">
                            <header>游戏规则</header>
                            <div>
                                <p>游戏为在线多人联机游戏。玩家需要进行团队合作，共同破译出单词的谜底。</p>
                                <p>游戏开始时，将按照房间设置，从选择的词库中随机挑选指定个数的词，并放置在“猜测区域”中，接下来即可开始游戏。</p>
                                <p>你可以选择开字母，也就是把这些单词中所有的与你输入的<b>单个字符</b>（包括空格等符号）所匹配的亮出来其所在位置。</p>
                                <p>你的每一次开字母都将消耗一次<b>开字母机会</b>，每猜对一个词可回复一次机会。</p>
                                <p>如果你有把握猜出这个单词，可以在“猜测”区域输入完整单词，如果匹配则可获得对应分数，越早猜对分数越多。</p>
                                <p>每开一次字母会扣除5分，每猜错一次会扣除2分。</p>
                                <p>如果所有单词全部猜出，本轮游戏结束。</p>
                            </div>
                        </div>
                        <div data-type="game-about">
                            <header>开字母</header>
                            <p>NEW EDITION</p>
                            <p>Made by Effortio.</p>
                        </div>
                    </div>
                    <button id="close-popup-button" class="big">
                        关闭
                    </button>
                </div>
            </div>
            <div id="dialog-shader">
                <div id="dialog-border">
                    <p id="dialog-message" class="strong">确定要？</p>
                    <div><small id="dialog-detail-message"></small></div>
                    <div id="dialog-modules">
                        <div>
                            <input type="text" id="dialog-input" class="center" />
                            <div id="dialog-input-error-info" class="red-fg"></div>
                        </div>
                    </div>
                    <div class="confirm-buttons">
                        <button id="cancel-dialog-button">取消</button>
                        <button id="confirm-dialog-button">确定</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="background-card"></div>
        <main>
            <div id="header-line">
                <span id="current-time-label">12:34</span>
                <span>信息</span>
                <span>开字母</span>
                <span>刷新</span>
                <span><i>正在连接中</i></span>
            </div>
            <div id="connection-labels">
                <div id="connecting-to-server" class="card">
                    <header>正在建立连接中</header>
                    <div class="loading-icon big inline-block" itemid="1"></div>
                    <div class="wide-label">
                        尝试连接到位于<code class="connection-address-label">localhost</code>的服务器中……
                    </div>
                </div>
                <div id="success-in-connecting" class="card">
                    <header>连接成功</header>
                    <div class="done-icon big inline-block"></div>
                    <div class="wide-label">游戏马上开始……</div>
                </div>
                <div id="fail-to-connect" class="card">
                    <header>连接失败</header>
                    <div>
                        <div class="error-icon big inline-block"></div>
                        <div class="wide-label">
                            连接到位于<code class="connection-address-label">localhost</code>的服务器失败……
                        </div>
                    </div>
                    <p>
                        可能原因：<br>
                        ·服务器尚未开启或报错<br>
                        ·连接地址有误<br>
                    </p>
                    <p>
                        <button class="reload-page-button"></button>
                    </p>
                </div>
                <div id="fail-to-continue-connecting" class="label card">
                    <header>连接丢失</header>
                    <div>
                        <div class="error-icon big inline-block"></div>
                        <div class="wide-label">
                            与位于<code class="connection-address-label">localhost</code>的服务器的连接丢失……
                        </div>
                    </div>
                    <p>
                        可能原因：<br>
                        ·服务器意外关闭<br>
                        ·服务器发生错误<br>
                        ·你的网络不佳<br>
                    </p>
                    <p>
                        <button class="reload-page-button"></button>
                    </p>
                </div>
            </div>
            <div id="after-connecting" class="center">
                <div id="selecting-rooms" class="center">
                    <header>选择房间</header>
                    <p>
                        你的名称
                        <input type="text" maxlength="10" placeholder="长度不超过10" value="新玩家" id="username-input"
                            class="long-input" />
                        ID
                        <b class="user-id-label"></b>
                    </p>
                    <div>
                        <button id="create-room-button">创建房间</button>
                        当前房间数<span id="room-numbers-label"></span> / <span id="max-rooms-label"></span>
                    </div>
                    <details>
                        <summary>创建房间设置</summary>
                        <table>
                            <tr>
                                <td>房间名</td>
                                <td><input type="text" maxlength="10" id="new-room-name-input" placeholder="新房间" /></td>
                                <td>最长10字符</td>
                            </tr>
                            <tr>
                                <td>房间人数上限</td>
                                <td><input type="number" min="3" max="20" placeholder="默认最大" id="max-users-input" />
                                </td>
                                <td><span class="room-max-users-min-label"></span>~<span
                                        class="room-max-users-max-label"></span></td>
                            </tr>
                            <tr>
                                <td>词库</td>
                                <td><select class="words-database-list">
                                    </select></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>猜测单词数量</td>
                                <td><input type="number" min="3" max="10" id="guess-words-input" placeholder="默认最大" />
                                </td>
                                <td><span class="guess-words-number-min-label"></span>~<span
                                        class="guess-words-number-max-label"></span></td>
                            </tr>
                            <tr>
                                <td colspan="3">*如猜测单词数量大于等于本词库词语个数，所有词语都将展示</td>
                            </tr>
                            <tr>
                                <td>房间密码</td>
                                <td><input maxlength="10" id="room-password-input" placeholder="禁用密码" /></td>
                                <td>留空以禁用密码</td>
                            </tr>
                        </table>
                    </details>
                    <div id="room-list">
                    </div>
                </div>
                <div id="room-playing">
                    <header><span id="room-owner-label"></span></header>
                    <div>
                        <small>
                            房间ID <span id="room-id-label"></span>
                            <span id="private-room-label">
                                <span class="seperating-label"></span>🔒需要密码
                            </span>
                            <span id="frozen-room-label">
                                <span class="seperating-label"></span>❄冻结中
                            </span>
                            <span class="seperating-label"></span>
                            房间时长<span id="room-open-time-label"></span>
                            <span class="seperating-label"></span>
                            参加时长<span id="playing-time-label"></span>
                        </small>
                    </div>
                    <div>
                        <button id="quit-room-button">退出房间</button>
                        <button id="view-game-rules-button">查看游戏规则</button>
                        <details id="room-inner-settings">
                            <summary>房间设置</summary>
                            <small>留空以取消更改对应设置</small>
                            <table>
                                <tr>
                                    <td>房间名</td>
                                    <td><input type="text" maxlength="10" placeholder="(不更改)"
                                            id="new-room-name-inner-input" /></td>
                                    <td>最长10字符</td>
                                </tr>
                                <tr>
                                    <td>房间人数上限</td>
                                    <td><input type="number" max="20" placeholder="(不更改)" id="max-users-inner-input" />
                                    </td>
                                    <td>房间当前人数~<span class="room-max-users-max-label"></span></td>
                                </tr>
                                <tr>
                                    <td>词库</td>
                                    <td><select type="checkbox" id="room-words-database-name-modify-enable">
                                            <option value="no-change" selected>不更改</option>
                                            <option value="change">设置更改</option>
                                            <option value="cancel-change">撤销更改</option>
                                        </select>
                                        <select class="words-database-list">
                                        </select>
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>猜测单词数量</td>
                                    <td><input type="number" min="3" max="10" placeholder="(不更改)"
                                            id="guess-words-inner-input" /></td>
                                    <td><span class="guess-words-number-min-label"></span>~<span
                                            class="guess-words-number-max-label"></span>
                                        <span class="red-fg">下一轮游戏时生效</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3">*如猜测单词数量大于等于本词库词语个数，所有词语都将展示</td>
                                </tr>
                                <tr>
                                    <td>房间密码</td>
                                    <td><select type="checkbox" id="room-password-enabled">
                                            <option value="no-change" selected>不更改</option>
                                            <option value="change">更改</option>
                                        </select>
                                        <input maxlength="10" id="room-password-inner-input" placeholder="禁用密码"
                                            class="long-input" />
                                    </td>
                                    <td>留空以禁用密码</td>
                                </tr>
                            </table>
                            <div>下个词库名称更改为<code id="next-words-database-name-label"></code>
                            </div>
                            <div>
                                当前密码 <code id="room-password"></code> <label><input id="show-or-hide-room-password"
                                        type="checkbox" />显示密码</label>
                            </div>
                            <div>
                                <button id="apply-modify-room-button">应用更改</button>
                            </div>
                        </details>
                    </div>
                    <div class="game-main-area">
                        <div>
                            <div>
                                <span class="strong">玩家列表</span>&nbsp;
                                <b id="room-users-number-label"></b> / <span id="room-max-users-label"></span>
                            </div>
                            <div id="user-list" class="white-area">

                            </div>
                            <details id="user-operations-detail">
                                <summary>玩家操作</summary>
                                对玩家<select id="player-to-operate-list"></select>
                                <select id="user-operations-list">
                                    <optgroup label="设置权限" data-access="0">
                                        <option value="set-owner">设为房主</option>
                                        <option value="set-op">设为管理员</option>
                                        <option value="deset-op">清除管理员</option>
                                    </optgroup>
                                    <optgroup label="管理人员" data-access="1">
                                        <option value="kick">踢出</option>
                                        <option value="kick-and-ban">踢出并封禁</option>
                                    </optgroup>
                                </select>
                                <button id="execute-operation-button">执行</button>
                            </details>
                        </div>
                        <div>
                            <span class="strong">游戏区域</span>
                            <div class="playing-area">
                                <div class="white-area">
                                    <div class="game-panel">
                                        <div>
                                            <div>
                                                <div class="yellow-bg" id="game-status">
                                                    暂停中
                                                </div>
                                                <button id="continue-or-pause-game-button">继续游戏</button>
                                                <button id="skip-turn-button">跳过本局</button>
                                                <button id="restart-button">重新开始</button>
                                                <button id="switch-room-frozen-button">冻结房间</button>
                                            </div>
                                        </div>
                                        <div>
                                            <div>
                                                游戏进行第<span class="strong" id="turns-label">1</span>轮
                                            </div>
                                            <div>
                                                当前词库名<code id="current-words-database-name-label"></code>
                                            </div>
                                            <div>
                                                剩余单词数<span class="strong" id="left-guess-label"></span> / <span
                                                    id="total-guess-label"></span> <span
                                                    id="total-progress-of-this-turn" class="strong"></span>%
                                            </div>
                                            <div>
                                                我的分数<span class="score-label" id="my-score-right-label"></span>
                                            </div>
                                        </div>
                                        <div>
                                            <details open>
                                                <summary><span class="strong">已开字母(<span
                                                            id="attempts-label">1</span>)</span></summary>
                                                <div id="opened-letters-list"></div>
                                            </details>
                                            <div>
                                                我的剩余开字母次数<span id="left-open-letter-chances-label"
                                                    class="open-letter-chances-label"></span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="white-area">
                                    <div class="guessing-area">
                                        <div>
                                            <div class="subtitle">单词列表</div>
                                            <div id="word-list">

                                            </div>
                                        </div>
                                        <div>
                                            <div id="guessing-input-area">
                                                <div>
                                                    <div>
                                                        <h3>目前无法猜测</h3>
                                                        <small>游戏暂停或结束</small>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="subtitle">开字母</div>
                                                    <div>
                                                        开字母<input type="text" maxlength="1" class="short-input"
                                                            placeholder="Here!" id="open-letter-input" />
                                                        <button id="open-letter-button">提交</button>
                                                    </div>
                                                    <div class="subtitle">猜测</div>
                                                    <div>
                                                        <p>
                                                            猜测第<input id="guess-order-label" type="number" min="1"
                                                                placeholder="单词序号" value="1"></input>个是<br /><input
                                                                class="long-input" placeholder="记得完整输入哦~"
                                                                id="guess-a-word-input" /><br />
                                                            <small>长度<span
                                                                    id="guessing-word-length-label"></span></small>
                                                        </p>
                                                        <div>
                                                            <button class="modify-order-button" method="up">↑</button>
                                                            <button class="modify-order-button" method="down">↓</button>
                                                            <button id="submit-guess-button">提交</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="subtitle">消息<button id="clear-message-button">清空</button>
                                            </div>

                                            <div id="live-message-box">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div id="room-quit-label" class="card">
                    <div>
                        <div id="room-active-quiting-label">
                            <header>房间已退出</header>
                            <p>你已退出当前房间。可再次选择房间游玩。</p>
                        </div>
                        <div id="room-passive-quiting-label">
                            <header>房间已被关闭</header>
                            <p>当前房间已被房主解散/房主已断开连接。可再次选择房间游玩。</p>
                        </div>
                        <div id="room-kicked-quiting-label">
                            <header>你被踢出房间</header>
                            <p>你已被踢出当前房间。</p>
                        </div>
                        <div id="room-kicked-and-banned-quiting-label">
                            <header>你被踢出并禁止再次加入房间</header>
                            <p>你已被踢出当前房间。依房间管理员或房主设定，你无法再次加入房间。</p>
                        </div>
                    </div>
                    <button class="return-selecting-button strong">返回</button>
                </div>
            </div>
            <script src="source/js/env.js"></script>
            <script src="source/js/renderer.js"></script>
            <script src="source/js/game.js"></script>
            <script src="source/js/events.js"></script>
            <script src="source/js/display.js"></script>

        </main>
    </body>

</html>